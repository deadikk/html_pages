<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" >
<head>
    <title>Untitled Page</title>

   <script type="text/javascript">           

            //нарисовать экран
            var myWidth = 0, myHeight = 0; 
            var int1 = 0;

            function getWH() 
            {             
             if (typeof (window.innerWidth) == 'number') 
                {
                    //Non-IE
                    myWidth = window.innerWidth;
                    myHeight = window.innerHeight;
                    int1 = 1;
                }
                else if (document.documentElement && (document.documentElement.clientWidth || document.documentElement.clientHeight)) 
                {
                    //IE 6+ in 'standards compliant mode'
                    myWidth = document.documentElement.clientWidth;
                    myHeight = document.documentElement.clientHeight;
                    int1 = 2;
                }
                else if (document.body && (document.body.clientWidth || document.body.clientHeight)) 
                {
                    //IE 4 compatible
                    myWidth = document.body.clientWidth;
                    myHeight = document.body.clientHeight;
                    int1 = 3;
                }
            }


            var example,ctx;
               
            var R = 0, G = 0, B = 255, step = 0,inc=1;

                function nextColor()
                {
                if(step>=0&&step<255){
                    R += inc;
                    step++;
                }

                if(step>=255&&step<510){
                    B -= inc;
                    step++;
                }

                if(step>=510&&step<765){
                    G += inc;
                    step++;
                }

                if(step>=765&&step<1020){
                    R -= inc;
                    step++;
                }

                if(step>=1020&&step<1275){
                    B += inc;
                    step++;
                }

                if(step>=1275&&step<1530){
                    G -= inc;
                    step++;
                }

                if (step >= 1530) {
                    step = 0;
                    B = 255;
                    R = 0;
                    G = 0;
                }                                 
                   
                }

                function drawscreen() {
 
                    for (var i = 0; i < myWidth; i++) {
                        nextColor();
                        ctx.strokeStyle = "rgb(" + R + "," + G + "," + B + ")";
                        ctx.fillStyle = "rgb(" + R + "," + G + "," + B + ")";
                        ctx.fillRect(i, 0, 1, myHeight);
                    }
                }

                window.onload = function () {

                    getWH();
                    example = document.getElementById("example");
                    ctx = example.getContext('2d');
                    example.height = myHeight;
                    example.width = 300;
                    var interval = 0, j = 0;
                    var intervalID = setInterval(function () {
                        R = 0;
                        G = 0;
                        B = 255;
                        step = 0;
                        
                        for (j = 0; j <= interval; j++) {
                            nextColor();   
                        }

                        drawscreen();
                        interval++;
                    }, 10);

                } 
     
        </script>
</head>
<body>
<div style="background-color:Blue; width:100%; height:100%; display:none; top:0px; left:0px;" id="main; "></div>

<canvas style="width:100%; height:100%; position:absolute; top:0px; left:0px;" id="example" >Обновите браузер</canvas>
        


</body>
</html>
